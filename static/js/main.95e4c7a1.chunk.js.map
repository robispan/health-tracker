{"version":3,"sources":["components/layout/Logo.png","components/assets/images/withings.png","components/assets/images/runkeeper.jpg","components/assets/images/mapmyfitness.png","components/layout/Navbar.js","context/loading/loadingContext.js","context/getHealth/getHealthContext.js","components/pages/Home/ConnectCard.js","components/pages/Home/Home.js","components/pages/Dashboard/MetricsCard.js","components/pages/Dashboard/Dashboard.js","components/pages/Page404.js","App.js","context/loading/loadingReducer.js","context/types.js","context/loading/LoadingState.js","context/getHealth/getHealthReducer.js","context/getHealth/GetHealthState.js","index.js"],"names":["module","exports","Header","className","to","process","src","Logo","alt","exact","activeClassName","loadingContext","createContext","getHealthContext","ConnectCard","imageUrl","connected","onConnect","onDisconnect","buttonClasses","push","style","backgroundImage","href","onClick","join","Home","loading","useContext","LoadingContext","runkeeperData","withingsData","mapmyfitnessData","disconnectRunkeeper","disconnectWithings","disconnectMapmyfitness","getRunkeeperData","getWithingsData","getMapmyfitnessData","WithingsImg","RunkeeperImg","MapmyFitnessImg","MetricsCard","ratio","label","value","text","background","backgroundPadding","styles","buildStyles","backgroundColor","textColor","pathColor","trailColor","Dashboard","targetMetrics","bodyfatRatio","body_fats","fat_percent","Math","round","caloriesRatio","calories_burnt","calories","stepsRatio","steps_counts","steps","Page404","App","Navbar","path","component","state","action","type","LoadingState","props","useReducer","LoadingReducer","dispatch","Provider","setLoading","stopLoading","children","payload","getHealthAccessToken","GetHealthState","GetHealthReducer","authRunkeeper","a","axios","get","res","data","devices","filter","device","name","connect_url","window","location","console","log","authWithings","authMapmyfitness","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.95e4c7a1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Logo.11bb0a76.png\";","module.exports = __webpack_public_path__ + \"static/media/withings.d1e744a1.png\";","module.exports = __webpack_public_path__ + \"static/media/runkeeper.3e08acc1.jpg\";","module.exports = __webpack_public_path__ + \"static/media/mapmyfitness.fd0401e7.png\";","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport Logo from './Logo.png';\r\n\r\nconst Header = () => {\r\n\treturn (\r\n\t\t<nav className='navbar'>\r\n\t\t\t<div className='navbar-inner'>\r\n\t\t\t\t<NavLink to={`${process.env.PUBLIC_URL}/`} className='navbar-logo'>\r\n\t\t\t\t\t<img src={Logo} className='hide-mobile' alt='logo' />\r\n\t\t\t\t</NavLink>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<NavLink exact={true} activeClassName='active' to={`${process.env.PUBLIC_URL}/`}>\r\n\t\t\t\t\t\t\tHome\r\n            </NavLink>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<NavLink to={`${process.env.PUBLIC_URL}/dashboard`} activeClassName='active'>\r\n\t\t\t\t\t\t\tDashboard\r\n            </NavLink>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</nav>\r\n\t);\r\n};\r\n\r\nexport default Header;\r\n","import { createContext } from 'react';\r\n\r\nconst loadingContext = createContext();\r\n\r\nexport default loadingContext;\r\n","import { createContext } from 'react';\r\n\r\nconst getHealthContext = createContext();\r\n\r\nexport default getHealthContext;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ConnectCard = ({ imageUrl, connected, onConnect, onDisconnect }) => {\r\n  // Dynamic style for button\r\n  const buttonClasses = ['connect-card-button'];\r\n  if (connected) buttonClasses.push('connected');\r\n\r\n  return (\r\n    <div className='connect-card'>\r\n      <div\r\n        className='connect-card-image'\r\n        style={{ backgroundImage: `url(${imageUrl})` }}\r\n      ></div>\r\n      <a\r\n        href='#'\r\n        onClick={connected ? onDisconnect : onConnect}\r\n        className={buttonClasses.join(' ')}\r\n      >\r\n        {connected ? 'Disconnect' : 'Connect'}\r\n      </a>\r\n    </div>\r\n  );\r\n};\r\n\r\nConnectCard.propTypes = {\r\n  imageUrl: PropTypes.string.isRequired,\r\n  connected: PropTypes.bool,\r\n  onConnect: PropTypes.func,\r\n  onDisconnect: PropTypes.func\r\n};\r\n\r\nexport default ConnectCard;\r\n","import React, { useContext } from 'react';\r\n\r\nimport LoadingContext from '../../../context/loading/loadingContext';\r\nimport getHealthContext from '../../../context/getHealth/getHealthContext';\r\n\r\nimport ConnectCard from './ConnectCard';\r\n\r\nimport WithingsImg from '../../assets/images/withings.png';\r\nimport RunkeeperImg from '../../assets/images/runkeeper.jpg';\r\nimport MapmyFitnessImg from '../../assets/images/mapmyfitness.png';\r\n\r\nconst Home = () => {\r\n\tconst { loading } = useContext(LoadingContext);\r\n\r\n\tconst {\r\n\t\trunkeeperData,\r\n\t\twithingsData,\r\n\t\tmapmyfitnessData,\r\n\t\tdisconnectRunkeeper,\r\n\t\tdisconnectWithings,\r\n\t\tdisconnectMapmyfitness,\r\n\t\tgetRunkeeperData,\r\n\t\tgetWithingsData,\r\n\t\tgetMapmyfitnessData } = useContext(\r\n\t\t\tgetHealthContext\r\n\t\t);\r\n\r\n\treturn loading ? (\r\n\t\t'Loading ...'\r\n\t) : (\r\n\t\t\t<div>\r\n\t\t\t\t<h2 className='center upper'>Connect your apps</h2>\r\n\r\n\t\t\t\t<div className='grid'>\r\n\t\t\t\t\t{/* Withings card */}\r\n\t\t\t\t\t<ConnectCard\r\n\t\t\t\t\t\timageUrl={WithingsImg}\r\n\t\t\t\t\t\tconnected={withingsData !== null}\r\n\t\t\t\t\t\tonConnect={getWithingsData}\r\n\t\t\t\t\t\tonDisconnect={disconnectWithings}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t{/* Runkeeper card */}\r\n\t\t\t\t\t<ConnectCard\r\n\t\t\t\t\t\timageUrl={RunkeeperImg}\r\n\t\t\t\t\t\tconnected={runkeeperData !== null}\r\n\t\t\t\t\t\tonConnect={getRunkeeperData}\r\n\t\t\t\t\t\tonDisconnect={disconnectRunkeeper}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t{/* Mapmyfitness card */}\r\n\t\t\t\t\t<ConnectCard\r\n\t\t\t\t\t\timageUrl={MapmyFitnessImg}\r\n\t\t\t\t\t\tconnected={mapmyfitnessData !== null}\r\n\t\t\t\t\t\tonConnect={getMapmyfitnessData}\r\n\t\t\t\t\t\tonDisconnect={disconnectMapmyfitness}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { CircularProgressbar, buildStyles } from 'react-circular-progressbar';\r\nimport 'react-circular-progressbar/dist/styles.css';\r\n\r\nconst MetricsCard = ({ ratio, label }) => {\r\n  return (\r\n    <div className='metrics-card'>\r\n      <h3 className='metrics-card-title center'>{label}</h3>\r\n      {ratio ? (\r\n        <CircularProgressbar\r\n          value={ratio}\r\n          text={`${ratio}%`}\r\n          background\r\n          backgroundPadding={6}\r\n          styles={buildStyles({\r\n            backgroundColor: '#00b9bb',\r\n            textColor: '#fff',\r\n            pathColor: '#fff',\r\n            trailColor: 'transparent'\r\n          })}\r\n        />\r\n      ) : (\r\n        <div className='center'>\r\n          Connect trackers on homepage to see your progression!\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nMetricsCard.propTypes = {\r\n  ratio: PropTypes.number,\r\n  label: PropTypes.string\r\n};\r\n\r\nexport default MetricsCard;\r\n","import React, { useContext } from 'react';\r\n\r\nimport getHealthContext from '../../../context/getHealth/getHealthContext';\r\n\r\nimport MetricsCard from './MetricsCard';\r\n\r\nconst Dashboard = () => {\r\n\tconst { runkeeperData, withingsData, mapmyfitnessData } = useContext(getHealthContext);\r\n\r\n\tconst targetMetrics = {\r\n\t\ttargetBodyfat: 10,\r\n\t\ttargetCaloriesLost: 8000,\r\n\t\ttargetSteps: 1000\r\n\t};\r\n\r\n\tconst bodyfatRatio =\r\n\t\twithingsData && withingsData.body_fats[0].fat_percent\r\n\t\t\t? Math.round(100 * targetMetrics.targetBodyfat / withingsData.body_fats[0].fat_percent)\r\n\t\t\t: null;\r\n\r\n\r\n\tconst caloriesRatio =\r\n\t\trunkeeperData && runkeeperData.calories_burnt\r\n\t\t\t? Math.round(\r\n\t\t\t\t(100 * runkeeperData.calories_burnt[1].calories) /\r\n\t\t\t\ttargetMetrics.targetCaloriesLost\r\n\t\t\t)\r\n\t\t\t: null;\r\n\r\n\tconst stepsRatio =\r\n\t\tmapmyfitnessData && mapmyfitnessData.steps_counts\r\n\t\t\t? Math.round(\r\n\t\t\t\t(100 * mapmyfitnessData.steps_counts[0].steps) /\r\n\t\t\t\ttargetMetrics.targetSteps\r\n\t\t\t)\r\n\t\t\t: null;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2 className='center upper'>Dashboard</h2>\r\n\t\t\t<div className='grid'>\r\n\t\t\t\t{/* Body fat */}\r\n\t\t\t\t<MetricsCard label='Weight loss progression' ratio={bodyfatRatio} />\r\n\r\n\t\t\t\t{/* Calories */}\r\n\t\t\t\t<MetricsCard label='Calories burn progression' ratio={caloriesRatio} />\r\n\r\n\t\t\t\t{/* Steps */}\r\n\t\t\t\t<MetricsCard label='Steps made today' ratio={stepsRatio} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Dashboard;\r\n","import React from 'react';\r\n\r\nconst Page404 = () => {\r\n  return (\r\n    <div>\r\n      <h1 className='center'>404 - page not found</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Page404;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\n\r\nimport Navbar from './components/layout/Navbar';\r\nimport Home from './components/pages/Home/Home';\r\nimport Dashboard from './components/pages/Dashboard/Dashboard';\r\nimport Page404 from './components/pages/Page404';\r\n\r\nimport './App.css';\r\n\r\nconst App = () => {\r\n\r\n\treturn (\r\n\t\t<Router>\r\n\t\t\t<Navbar />\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t{/* Home */}\r\n\t\t\t\t\t<Route exact path={`${process.env.PUBLIC_URL}/`} component={Home} />\r\n\r\n\t\t\t\t\t{/* Dashboard */}\r\n\t\t\t\t\t<Route exact path={`${process.env.PUBLIC_URL}/dashboard`} component={Dashboard} />\r\n\r\n\t\t\t\t\t{/* 404 */}\r\n\t\t\t\t\t<Route component={Page404} />\r\n\t\t\t\t</Switch>\r\n\t\t\t</div>\r\n\t\t</Router>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import { SET_LOADING, STOP_LOADING } from '../types';\r\n\r\nexport default (state, action) => {\r\n  switch (action.type) {\r\n    case SET_LOADING:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      };\r\n    case STOP_LOADING:\r\n      return {\r\n        ...state,\r\n        loading: false\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const SET_LOADING = 'SET_LOADING';\r\nexport const STOP_LOADING = 'STOP_LOADING';\r\n\r\nexport const SET_RUNKEEPER_DATA = 'SET_RUNKEEPER_DATA';\r\nexport const CLEAR_RUNKEEPER_DATA = 'CLEAR_RUNKEEPER_DATA';\r\nexport const SET_WITHINGS_DATA = 'SET_WITHINGS_DATA';\r\nexport const CLEAR_WITHINGS_DATA = 'CLEAR_WITHINGS_DATA';\r\nexport const SET_MAPMYFITNESS_DATA = 'SET_MAPMYFITNESS_DATA';\r\nexport const CLEAR_MAPMYFITNESS_DATA = 'CLEAR_MAPMYFITNESS_DATA';\r\n","import React, { useReducer } from 'react';\r\nimport LoadingReducer from './loadingReducer';\r\nimport LoadingContext from './loadingContext';\r\nimport { SET_LOADING, STOP_LOADING } from '../types';\r\n\r\nconst LoadingState = props => {\r\n  const initialState = {\r\n    loading: false\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(LoadingReducer, initialState);\r\n\r\n  // Set loading\r\n  const setLoading = () => dispatch({ type: SET_LOADING });\r\n\r\n  // Stop loading\r\n  const stopLoading = () => dispatch({ type: STOP_LOADING });\r\n\r\n  return (\r\n    <LoadingContext.Provider\r\n      value={{\r\n        loading: state.loading,\r\n        setLoading,\r\n        stopLoading\r\n      }}\r\n    >\r\n      {props.children}\r\n    </LoadingContext.Provider>\r\n  );\r\n};\r\n\r\nexport default LoadingState;\r\n","import {\r\n\tSET_RUNKEEPER_DATA,\r\n\tCLEAR_RUNKEEPER_DATA,\r\n\tSET_WITHINGS_DATA,\r\n\tCLEAR_WITHINGS_DATA,\r\n\tSET_MAPMYFITNESS_DATA,\r\n\tCLEAR_MAPMYFITNESS_DATA\r\n} from '../types';\r\n\r\nexport default (state, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_RUNKEEPER_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\trunkeeperData: action.payload\r\n\t\t\t};\r\n\t\tcase CLEAR_RUNKEEPER_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\trunkeeperData: null\r\n\t\t\t};\r\n\t\tcase SET_WITHINGS_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\twithingsData: action.payload\r\n\t\t\t};\r\n\t\tcase CLEAR_WITHINGS_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\twithingsData: null\r\n\t\t\t};\r\n\t\tcase SET_MAPMYFITNESS_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmapmyfitnessData: action.payload\r\n\t\t\t};\r\n\t\tcase CLEAR_MAPMYFITNESS_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmapmyfitnessData: null\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import React, { useReducer, useContext } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport LoadingContext from '../loading/loadingContext';\r\nimport GetHealthReducer from './getHealthReducer';\r\nimport GetHealthContext from './getHealthContext';\r\n\r\nimport { SET_RUNKEEPER_DATA, CLEAR_RUNKEEPER_DATA, SET_WITHINGS_DATA, CLEAR_WITHINGS_DATA, SET_MAPMYFITNESS_DATA, CLEAR_MAPMYFITNESS_DATA } from '../types';\r\n\r\nconst getHealthAccessToken = process.env.REACT_APP_GETHEALTH_ACCESS_TOKEN;\r\n\r\nconst GetHealthState = props => {\r\n\tconst { setLoading, stopLoading } = useContext(LoadingContext);\r\n\r\n\tconst initialState = {\r\n\t\trunkeeperData: null,\r\n\t\twithingsData: null,\r\n\t\tmapmyfitnessData: null\r\n\t};\r\n\r\n\tconst [state, dispatch] = useReducer(GetHealthReducer, initialState);\r\n\r\n\tconst authRunkeeper = async () => {\r\n\t\tsetLoading();\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await axios.get(\r\n\t\t\t\t`https://platform.gethealth.io/v1/health/user/devices/?access_token=${getHealthAccessToken}`\r\n\t\t\t);\r\n\r\n\t\t\tconst data = res.data.devices.filter(\r\n\t\t\t\tdevice => device.name === 'runkeeper'\r\n\t\t\t)[0];\r\n\t\t\tconst connect_url = data.connect_url;\r\n\r\n\t\t\t// Go to authorization page\r\n\t\t\twindow.location.href = connect_url;\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('error authorizing Runkeeper', error);\r\n\t\t}\r\n\r\n\t\tstopLoading();\r\n\t};\r\n\r\n\tconst getRunkeeperData = async () => {\r\n\t\tsetLoading();\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await axios.get(\r\n\t\t\t\t`https://platform.gethealth.io/v1/health/user/calories_burnt/?access_token=${getHealthAccessToken}&start_date=2016-02-24`\r\n\t\t\t);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: SET_RUNKEEPER_DATA,\r\n\t\t\t\tpayload: res.data\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('error fetching Runkeeper data', error);\r\n\t\t}\r\n\r\n\t\tstopLoading();\r\n\t};\r\n\r\n\tconst disconnectRunkeeper = async () => {\r\n\t\tawait axios.get(`https://platform.gethealth.io/v1/health/user/disconnect/runkeeper?access_token=${getHealthAccessToken}`)\r\n\t\tdispatch({ type: CLEAR_RUNKEEPER_DATA });\r\n\t};\r\n\r\n\tconst authWithings = async () => {\r\n\t\tsetLoading();\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await axios.get(\r\n\t\t\t\t`https://platform.gethealth.io/v1/health/user/devices/?access_token=${getHealthAccessToken}`\r\n\t\t\t);\r\n\r\n\t\t\tconst data = res.data.devices.filter(\r\n\t\t\t\tdevice => device.name === 'withings'\r\n\t\t\t)[0];\r\n\t\t\tconst connect_url = data.connect_url;\r\n\r\n\t\t\t// Go to authorization page\r\n\t\t\twindow.location.href = connect_url;\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('error authorizing Withings', error);\r\n\t\t}\r\n\r\n\t\tstopLoading();\r\n\t};\r\n\r\n\tconst getWithingsData = async () => {\r\n\t\tsetLoading();\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await axios.get(\r\n\t\t\t\t`https://platform.gethealth.io/v1/health/user/body_fats/?access_token=${getHealthAccessToken}&start_date=2019-01-01&source=withings`\r\n\t\t\t);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: SET_WITHINGS_DATA,\r\n\t\t\t\tpayload: res.data\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('error fetching Withings data', error);\r\n\t\t}\r\n\r\n\t\tstopLoading();\r\n\t};\r\n\r\n\tconst disconnectWithings = async () => {\r\n\t\tawait axios.get(`https://platform.gethealth.io/v1/health/user/disconnect/withings?access_token=${getHealthAccessToken}`)\r\n\t\tdispatch({ type: CLEAR_WITHINGS_DATA });\r\n\t};\r\n\r\n\tconst authMapmyfitness = async () => {\r\n\t\tsetLoading();\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await axios.get(\r\n\t\t\t\t`https://platform.gethealth.io/v1/health/user/devices/?access_token=${getHealthAccessToken}`\r\n\t\t\t);\r\n\r\n\t\t\tconst data = res.data.devices.filter(\r\n\t\t\t\tdevice => device.name === 'mapmyfitness'\r\n\t\t\t)[0];\r\n\t\t\tconst connect_url = data.connect_url;\r\n\r\n\t\t\t// Go to authorization page\r\n\t\t\twindow.location.href = connect_url;\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('error authorizing Mapmyfitness', error);\r\n\t\t}\r\n\r\n\t\tstopLoading();\r\n\t};\r\n\r\n\tconst getMapmyfitnessData = async () => {\r\n\t\tsetLoading();\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await axios.get(\r\n\t\t\t\t`https://platform.gethealth.io/v1/health/user/steps_counts/?access_token=${getHealthAccessToken}&start_date=2016-11-01`\r\n\t\t\t);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: SET_MAPMYFITNESS_DATA,\r\n\t\t\t\tpayload: res.data\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log('error fetching Mapmyfitness data', error);\r\n\t\t}\r\n\r\n\t\tstopLoading();\r\n\t};\r\n\r\n\tconst disconnectMapmyfitness = async () => {\r\n\t\tawait axios.get(`https://platform.gethealth.io/v1/health/user/disconnect/mapmyfitness?access_token=${getHealthAccessToken}`)\r\n\t\tdispatch({ type: CLEAR_MAPMYFITNESS_DATA });\r\n\t};\r\n\r\n\treturn (\r\n\t\t<GetHealthContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\trunkeeperData: state.runkeeperData,\r\n\t\t\t\twithingsData: state.withingsData,\r\n\t\t\t\tmapmyfitnessData: state.mapmyfitnessData,\r\n\t\t\t\tauthRunkeeper,\r\n\t\t\t\tauthWithings,\r\n\t\t\t\tauthMapmyfitness,\r\n\t\t\t\tdisconnectRunkeeper,\r\n\t\t\t\tdisconnectWithings,\r\n\t\t\t\tdisconnectMapmyfitness,\r\n\t\t\t\tgetRunkeeperData,\r\n\t\t\t\tgetWithingsData,\r\n\t\t\t\tgetMapmyfitnessData\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{props.children}\r\n\t\t</GetHealthContext.Provider>\r\n\t);\r\n};\r\n\r\nexport default GetHealthState;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nimport LoadingState from './context/loading/LoadingState';\r\nimport GetHealthState from './context/getHealth/GetHealthState';\r\n\r\n\r\nReactDOM.render(\r\n\t<LoadingState>\r\n\t\t<GetHealthState><App />\r\n\t\t</GetHealthState>\r\n\t</LoadingState>, document.getElementById('root'));\r\n"],"sourceRoot":""}