(this["webpackJsonphealth-tracker"]=this["webpackJsonphealth-tracker"]||[]).push([[0],{30:function(e,t,a){e.exports=a.p+"static/media/Logo.11bb0a76.png"},33:function(e,t,a){e.exports=a.p+"static/media/withings.d1e744a1.png"},34:function(e,t,a){e.exports=a.p+"static/media/runkeeper.3e08acc1.jpg"},35:function(e,t,a){e.exports=a.p+"static/media/mapmyfitness.fd0401e7.png"},36:function(e,t,a){e.exports=a(67)},41:function(e,t,a){},48:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),s=a.n(c),o=(a(41),a(12)),i=a(10),l=a(30),u=a.n(l),p=function(){return r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"navbar-inner"},r.a.createElement(o.b,{to:"".concat("/health-tracker","/"),className:"navbar-logo"},r.a.createElement("img",{src:u.a,className:"hide-mobile",alt:"logo"})),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(o.b,{exact:!0,activeClassName:"active",to:"".concat("/health-tracker","/")},"Home")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"".concat("/health-tracker","/dashboard"),activeClassName:"active"},"Dashboard")))))},h=Object(n.createContext)(),m=Object(n.createContext)(),f=function(e){var t=e.imageUrl,a=e.connected,n=e.onConnect,c=e.onDisconnect,s=["connect-card-button"];return a&&s.push("connected"),r.a.createElement("div",{className:"connect-card"},r.a.createElement("div",{className:"connect-card-image",style:{backgroundImage:"url(".concat(t,")")}}),r.a.createElement("a",{href:"#",onClick:a?c:n,className:s.join(" ")},a?"Disconnect":"Connect"))},d=a(33),g=a.n(d),v=a(34),E=a.n(v),b=a(35),k=a.n(b),D=function(){var e=Object(n.useContext)(h).loading,t=Object(n.useContext)(m),a=t.runkeeperData,c=t.withingsData,s=t.mapmyfitnessData,o=t.disconnectRunkeeper,i=t.disconnectWithings,l=t.disconnectMapmyfitness,u=t.getRunkeeperData,p=t.getWithingsData,d=t.getMapmyfitnessData;return e?"Loading ...":r.a.createElement("div",null,r.a.createElement("h2",{className:"center upper"},"Connect your apps"),r.a.createElement("div",{className:"grid"},r.a.createElement(f,{imageUrl:g.a,connected:null!==c,onConnect:p,onDisconnect:i}),r.a.createElement(f,{imageUrl:E.a,connected:null!==a,onConnect:u,onDisconnect:o}),r.a.createElement(f,{imageUrl:k.a,connected:null!==s,onConnect:d,onDisconnect:l})))},_=a(18),y=(a(47),function(e){var t=e.ratio,a=e.label;return r.a.createElement("div",{className:"metrics-card"},r.a.createElement("h3",{className:"metrics-card-title center"},a),t?r.a.createElement(_.a,{value:t,text:"".concat(t,"%"),background:!0,backgroundPadding:6,styles:Object(_.b)({backgroundColor:"#00b9bb",textColor:"#fff",pathColor:"#fff",trailColor:"transparent"})}):r.a.createElement("div",{className:"center"},"Connect trackers on homepage to see your progression!"))}),A=function(){var e=Object(n.useContext)(m),t=e.runkeeperData,a=e.withingsData,c=e.mapmyfitnessData,s=10,o=8e3,i=1e3,l=a&&a.body_fats[0].fat_percent?Math.round(100*s/a.body_fats[0].fat_percent):null,u=t&&t.calories_burnt?Math.round(100*t.calories_burnt[1].calories/o):null,p=c&&c.steps_counts?Math.round(100*c.steps_counts[0].steps/i):null;return r.a.createElement("div",null,r.a.createElement("h2",{className:"center upper"},"Dashboard"),r.a.createElement("div",{className:"grid"},r.a.createElement(y,{label:"Weight loss progression",ratio:l}),r.a.createElement(y,{label:"Calories burn progression",ratio:u}),r.a.createElement(y,{label:"Steps made today",ratio:p})))},x=function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"center"},"404 - page not found"))},w=(a(48),function(){return r.a.createElement(o.a,null,r.a.createElement(p,null),r.a.createElement("div",{className:"container"},r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"".concat("/health-tracker","/"),component:D}),r.a.createElement(i.a,{exact:!0,path:"".concat("/health-tracker","/dashboard"),component:A}),r.a.createElement(i.a,{component:x}))))}),N=a(14),O=a(7),j=function(e,t){switch(t.type){case"SET_LOADING":return Object(O.a)({},e,{loading:!0});case"STOP_LOADING":return Object(O.a)({},e,{loading:!1});default:return e}},C=function(e){var t=Object(n.useReducer)(j,{loading:!1}),a=Object(N.a)(t,2),c=a[0],s=a[1];return r.a.createElement(h.Provider,{value:{loading:c.loading,setLoading:function(){return s({type:"SET_LOADING"})},stopLoading:function(){return s({type:"STOP_LOADING"})}}},e.children)},T=a(2),R=a.n(T),S=a(8),I=a(9),M=a.n(I),L=function(e,t){switch(t.type){case"SET_RUNKEEPER_DATA":return Object(O.a)({},e,{runkeeperData:t.payload});case"CLEAR_RUNKEEPER_DATA":return Object(O.a)({},e,{runkeeperData:null});case"SET_WITHINGS_DATA":return Object(O.a)({},e,{withingsData:t.payload});case"CLEAR_WITHINGS_DATA":return Object(O.a)({},e,{withingsData:null});case"SET_MAPMYFITNESS_DATA":return Object(O.a)({},e,{mapmyfitnessData:t.payload});case"CLEAR_MAPMYFITNESS_DATA":return Object(O.a)({},e,{mapmyfitnessData:null});default:return e}},P="5A5F9759DE17A2AD087A0DBEECD5D4C865329D7C",W=function(e){var t=Object(n.useContext)(h),a=t.setLoading,c=t.stopLoading,s=Object(n.useReducer)(L,{runkeeperData:null,withingsData:null,mapmyfitnessData:null}),o=Object(N.a)(s,2),i=o[0],l=o[1],u=function(){var e=Object(S.a)(R.a.mark((function e(){var t,n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(),e.prev=1,e.next=4,M.a.get("https://platform.gethealth.io/v1/health/user/devices/?access_token=".concat(P));case 4:t=e.sent,n=t.data.devices.filter((function(e){return"runkeeper"===e.name}))[0],r=n.connect_url,window.location.href=r,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("error authorizing Runkeeper",e.t0);case 13:c();case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(S.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(),e.prev=1,e.next=4,M.a.get("https://platform.gethealth.io/v1/health/user/calories_burnt/?access_token=".concat(P,"&start_date=2016-02-24"));case 4:t=e.sent,l({type:"SET_RUNKEEPER_DATA",payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("error fetching Runkeeper data",e.t0);case 11:c();case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(S.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("https://platform.gethealth.io/v1/health/user/disconnect/runkeeper?access_token=".concat(P));case 2:l({type:"CLEAR_RUNKEEPER_DATA"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(S.a)(R.a.mark((function e(){var t,n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(),e.prev=1,e.next=4,M.a.get("https://platform.gethealth.io/v1/health/user/devices/?access_token=".concat(P));case 4:t=e.sent,n=t.data.devices.filter((function(e){return"withings"===e.name}))[0],r=n.connect_url,window.location.href=r,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("error authorizing Withings",e.t0);case 13:c();case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(S.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(),e.prev=1,e.next=4,M.a.get("https://platform.gethealth.io/v1/health/user/body_fats/?access_token=".concat(P,"&start_date=2019-01-01&source=withings"));case 4:t=e.sent,l({type:"SET_WITHINGS_DATA",payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("error fetching Withings data",e.t0);case 11:c();case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(S.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("https://platform.gethealth.io/v1/health/user/disconnect/withings?access_token=".concat(P));case 2:l({type:"CLEAR_WITHINGS_DATA"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(S.a)(R.a.mark((function e(){var t,n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(),e.prev=1,e.next=4,M.a.get("https://platform.gethealth.io/v1/health/user/devices/?access_token=".concat(P));case 4:t=e.sent,n=t.data.devices.filter((function(e){return"mapmyfitness"===e.name}))[0],r=n.connect_url,window.location.href=r,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("error authorizing Mapmyfitness",e.t0);case 13:c();case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(S.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(),e.prev=1,e.next=4,M.a.get("https://platform.gethealth.io/v1/health/user/steps_counts/?access_token=".concat(P,"&start_date=2016-11-01"));case 4:t=e.sent,l({type:"SET_MAPMYFITNESS_DATA",payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("error fetching Mapmyfitness data",e.t0);case 11:c();case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(S.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("https://platform.gethealth.io/v1/health/user/disconnect/mapmyfitness?access_token=".concat(P));case 2:l({type:"CLEAR_MAPMYFITNESS_DATA"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(m.Provider,{value:{runkeeperData:i.runkeeperData,withingsData:i.withingsData,mapmyfitnessData:i.mapmyfitnessData,authRunkeeper:u,authWithings:d,authMapmyfitness:E,disconnectRunkeeper:f,disconnectWithings:v,disconnectMapmyfitness:k,getRunkeeperData:p,getWithingsData:g,getMapmyfitnessData:b}},e.children)};s.a.render(r.a.createElement(C,null,r.a.createElement(W,null,r.a.createElement(w,null))),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.95e4c7a1.chunk.js.map